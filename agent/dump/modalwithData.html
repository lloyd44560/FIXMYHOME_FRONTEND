<!-- Use Alpine JS -->
<!-- Pop-up form with data (No need for context from Python) -->

<button
@click='showModal = true; modalData = {
    name: "{{ property.name|escapejs }}",
    address: "{{ property.address|escapejs }}",
    renter_name: "{{ property.renter_name|escapejs }}",
    renter_contact: "{{ property.renter_contact|escapejs }}",
    lease_start: "{{ property.lease_start }}",
    lease_end: "{{ property.lease_end }}",
    rent: "{{ property.rent }}",
    status: "{{ property.status }}"
}'
class="text-blue-500 hover:underline"
>👁 View</button>

<!-- Modal -->
<div x-show="showModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
    <div class="bg-white p-6 rounded-lg w-1/2 shadow-xl" @click.outside="showModal = false">
    <h3 class="text-lg font-bold mb-4">Property Details</h3>
    <template x-if="modalData">
        <div>
        <p><strong>Property:</strong> <span x-text="modalData.name"></span></p>
        <p><strong>Address:</strong> <span x-text="modalData.address"></span></p>
        <p><strong>Renter:</strong> <span x-text="modalData.renter_name"></span></p>
        <p><strong>Contact:</strong> <span x-text="modalData.renter_contact"></span></p>
        <p><strong>Lease:</strong> <span x-text="modalData.lease_start"></span> to <span x-text="modalData.lease_end"></span></p>
        <p><strong>Rent:</strong> $<span x-text="modalData.rent"></span>/week</p>
        <p><strong>Status:</strong> <span x-text="modalData.status"></span></p>
        </div>
    </template>
    <button @click="showModal = false" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Close</button>
    </div>
</div>

<!-- Hero Section for Invitation -->
<section class="bg-blue-50 py-10">
    <div class="max-w-4xl mx-auto px-6 text-center">
        <h2 class="text-3xl font-bold text-gray-800 mb-4">Invite a Renter</h2>
        <p class="text-gray-600 mb-6">Send an invitation link to a renter via email.</p>

        <form method="post" class="bg-white p-6 rounded-lg shadow-md space-y-4 max-w-xl mx-auto">
        {% csrf_token %}
        <div>
            <label for="id_name" class="block text-left text-gray-700 font-semibold">Renter Name</label>
            {{ form.name|add_class:"w-full border border-gray-300 rounded-md p-2" }}
        </div>
        <div>
            <label for="id_email" class="block text-left text-gray-700 font-semibold">Renter Email</label>
            {{ form.email|add_class:"w-full border border-gray-300 rounded-md p-2" }}
        </div>
        <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700">
            Send Invitation
        </button>
        </form>

        <div style="text-align: center; margin-top: 1rem;">
        <a href="{% url 'manage_renters' %}" class="btn btn-outline-secondary hover:underline">Manage Renters</a>
        </div>
    </div>
</section>